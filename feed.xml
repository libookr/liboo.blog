<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="https://blog.liboo.kr/feed.xml" rel="self" type="application/atom+xml" /><link href="https://blog.liboo.kr/" rel="alternate" type="text/html" /><updated>2025-01-17T07:09:21+00:00</updated><id>https://blog.liboo.kr/feed.xml</id><title type="html">Liboo.blog</title><subtitle>ë¼ì´ë¶€ ê°œë°œ ë¸”ë¡œê·¸</subtitle><entry><title type="html">[DB] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ë° í´ëŸ¬ìŠ¤í„° ì„¤ì •</title><link href="https://blog.liboo.kr/DB-_%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4_%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98_%EB%B0%8F_%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0_%EC%84%A4%EC%A0%95_" rel="alternate" type="text/html" title="[DB] ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ë° í´ëŸ¬ìŠ¤í„° ì„¤ì •" /><published>2025-01-09T10:57:00+00:00</published><updated>2025-01-09T10:57:00+00:00</updated><id>https://blog.liboo.kr/%5BDB%5D_%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4_%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98_%EB%B0%8F_%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0_%EC%84%A4%EC%A0%95_</id><content type="html" xml:base="https://blog.liboo.kr/DB-_%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4_%EB%A7%88%EC%9D%B4%EA%B7%B8%EB%A0%88%EC%9D%B4%EC%85%98_%EB%B0%8F_%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0_%EC%84%A4%EC%A0%95_">&lt;h2 id=&quot;ë ˆë””ìŠ¤-í´ëŸ¬ìŠ¤í„°-ì„¤ì •&quot;&gt;ë ˆë””ìŠ¤ í´ëŸ¬ìŠ¤í„° ì„¤ì •&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2025-01-09-[DB]_ë°ì´í„°ë² ì´ìŠ¤_ë§ˆì´ê·¸ë ˆì´ì…˜_ë°_í´ëŸ¬ìŠ¤í„°_ì„¤ì •_.md/0.png&quot; alt=&quot;0&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;h1 id=&quot;redis-mysql-ì„œë¹„ìŠ¤ì—ì„œ-ì¸ìŠ¤í„´ìŠ¤ë¡œ-ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸°&quot;&gt;Redis, MySQL ì„œë¹„ìŠ¤ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê¸°&lt;/h1&gt;

&lt;p&gt;ê¸°ì¡´ì—ëŠ” ë ˆë””ìŠ¤ë¥¼ NCP ì—ì„œ ì œê³µí•˜ëŠ” ì„œë¹„ìŠ¤ ìì²´ë¥¼ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— êµ³ì´ í•  í•„ìš”ê°€ ì—†ì—ˆì§€ë§Œ ë ˆë””ìŠ¤ í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒ¤ë”©ê¹Œì§€ í¬í•¨í•´ì„œ ì„œë¹„ìŠ¤ë¡œ ë¹Œë¦¬ë©´ ìš”ê¸ˆì´ ì–´ë§ˆì–´ë§ˆí•˜ê²Œ ë“¤ì–´ê°€ê²Œ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2025-01-09-[DB]_ë°ì´í„°ë² ì´ìŠ¤_ë§ˆì´ê·¸ë ˆì´ì…˜_ë°_í´ëŸ¬ìŠ¤í„°_ì„¤ì •_.md/1.png&quot; alt=&quot;1&quot; /&gt;&lt;em&gt;Redis ìš”ê¸ˆí‘œ&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ncp ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì‚¬ìš©í•˜ì§€ ì•Šê³  êº¼ë‘ë©´ ë¹„ìš©ì´ ì ˆê°ë˜ëŠ” ë°©ì‹ì´ê¸° ë•Œë¬¸ì— Redis ì„œë¹„ìŠ¤ë¥¼ ì§ì ‘ ì“°ê¸°ë³´ë‹¤ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì˜¬ë ¤ì„œ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ ë¹„ìš© ì¸¡ë©´ì—ì„œ ì´ì ì´ ë§ì„ ê²ƒ ê°™ì•„ì„œ ì‚¬ìš©í•˜ë˜ MySQL ê³¼ Redis ë¥¼ ë‚´ë¦¬ê³  ì „ë¶€ ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì˜¬ë¦¬ê³  ê°œë°œ/ë¦¬íŒ©í† ë§ í•˜ë ¤ê³  í•œë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;public-subnet-private-subnet&quot;&gt;Public Subnet, Private Subnet&lt;/h2&gt;

&lt;p&gt;Redis ë‚˜ MySQL ì€ ëª¨ë‘ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” Public ìœ¼ë¡œ ì ‘ê·¼ê°€ëŠ¥í•˜ê²Œ í•˜ê¸° ë³´ë‹¤ëŠ”, Private Subnet ìœ¼ë¡œ ê´€ë¦¬í•˜ë©´ì„œ ê°™ì€ VPC ì— ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ì ‘ê·¼í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ ë³´ì•ˆì— í›¨ì”¬ ì¢‹ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2025-01-09-[DB]_ë°ì´í„°ë² ì´ìŠ¤_ë§ˆì´ê·¸ë ˆì´ì…˜_ë°_í´ëŸ¬ìŠ¤í„°_ì„¤ì •_.md/2.png&quot; alt=&quot;2&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ì‹¤ì œ ì„œë²„ë“¤ì´ ë°°í¬ë˜ëŠ” public subnet ì¸ web22-subnet-all ê³¼, Redis ì™€ MySQL ì´ ëŒì•„ê°ˆ private subnet ìœ¼ë¡œ ë¶„ë¦¬í–ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ncp-ì¸ìŠ¤í„´ìŠ¤-ìƒì„±&quot;&gt;NCP ì¸ìŠ¤í„´ìŠ¤ ìƒì„±&lt;/h2&gt;

&lt;p&gt;ìš°ì„  ìƒˆë¡œìš´ NCP ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•˜ë‚˜ ìƒì„±í–ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í˜„ì¬ëŠ” ê°€ì¥ ì‹¼ ë‹¨ê³„ë¡œ í•˜ë‚˜ë¥¼ ìƒì„±í•˜ê³ , Redis ì™€ MySQL ì„ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ì— ì„¤ì¹˜í•´ì„œ ìš´ìš©í•  ê³„íšì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë ‡ê²Œë˜ë©´ ì¸ìŠ¤í„´ìŠ¤ í•˜ë‚˜ê°€ ë¬¸ì œê°€ ìƒê¸°ë©´ ë‘ ê°œì˜ DBê°€ ì „ë¶€ ë™ì‘í•  ìˆ˜ ì—†ë‹¤ëŠ” ë§¤ìš° í° ë‹¨ì ì„ ê°€ì§€ê²Œ ëœë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ë‚˜ì¤‘ì— ë°˜ë“œì‹œ DB ë¥¼ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.&lt;/p&gt;

&lt;p&gt;ì§€ê¸ˆì€ ì¸ìŠ¤í„´ìŠ¤ì˜ ë¹„ìš©ì„ ìµœì†Œí™”í•˜ë©´ì„œ ë¦¬íŒ©í† ë§í•˜ê³  ì‹¶ì–´ì„œ ìœ„ì™€ ê°™ì€ ë°©ì‹ì„ ì„ íƒí–ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´í›„ì—ëŠ” ìœ„ì—ì„œ ë§Œë“¤ì–´ë‘” private subnet ì— í• ë‹¹í•´ì£¼ë©´ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;Private Subnet ì´ë‹¤ë³´ë‹ˆê¹Œ ì™¸ë¶€ì™€ í†µì‹ ì´ ì•„ì˜ˆ ì•ˆë˜ì–´ì•¼ í•˜ëŠ”ë° ì‹ ê¸°í•˜ê²Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo apt update&lt;/code&gt; ê°™ì€ ëª…ë ¹ì–´ê°€ ë™ì‘í–ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2025-01-09-[DB]_ë°ì´í„°ë² ì´ìŠ¤_ë§ˆì´ê·¸ë ˆì´ì…˜_ë°_í´ëŸ¬ìŠ¤í„°_ì„¤ì •_.md/3.png&quot; alt=&quot;3&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;apt ì €ì¥ì†Œê°€ &lt;a href=&quot;http://repo.ncloud.com/ubuntu&quot;&gt;http://repo.ncloud.com/ubuntu&lt;/a&gt; ë¡œ ë˜ì–´ìˆê³  ì•„ë§ˆ ì´ ì£¼ì†ŒëŠ” ë‚´ë¶€ë§ì— í¬í•¨ë˜ëŠ” ëª¨ì–‘ì´ë‹¤.&lt;/p&gt;

&lt;p&gt;ë‚´ë¶€ë§ì´ ë§ëŠ”ì§€ í•œ ë²ˆ í™•ì¸í•´ë³´ì.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nslookup&lt;/code&gt; &lt;a href=&quot;http://repo.ncloud.com/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;repo.ncloud.com&lt;/code&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2025-01-09-[DB]_ë°ì´í„°ë² ì´ìŠ¤_ë§ˆì´ê·¸ë ˆì´ì…˜_ë°_í´ëŸ¬ìŠ¤í„°_ì„¤ì •_.md/4.png&quot; alt=&quot;4&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ë‚´ë¶€ë§(ì‚¬ì„¤ë§) ì´ë¼ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;10.x.x.x&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;192.168.x.x&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;172.16.x.x~172.31.x.x&lt;/code&gt;ì™€ ê°™ì€ &lt;strong&gt;ì‚¬ì„¤ IP ëŒ€ì—­ì´ì–´ì•¼ í•˜ëŠ”ë°&lt;/strong&gt; &lt;a href=&quot;http://169.254.xxx.xxx/&quot;&gt;&lt;strong&gt;169.254.xxx.xxx&lt;/strong&gt;&lt;/a&gt; &lt;strong&gt;ì˜€ë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ê·¸ëŸ¬ë©´ &lt;a href=&quot;http://169.254.xxx.xxx/&quot;&gt;169.254.xxx.xxx&lt;/a&gt; ëŠ” ë¬´ìŠ¨ ëŒ€ì—­ì¸ê°€ í•˜ë‹ˆ&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bash
169.254.xxx.xxx ëŒ€ì—­ì˜ IP ì£¼ì†ŒëŠ” **Link-Local Address(ë§í¬ ë¡œì»¬ ì£¼ì†Œ)**ë¼ê³  ë¶ˆë¦¬ë©°, 
ë„¤íŠ¸ì›Œí¬ ì„¤ì • ì‹œ DHCP ì„œë²„ë¥¼ í†µí•´ IPë¥¼ ë°›ì§€ ëª»í•  ë•Œ ìë™ìœ¼ë¡œ í• ë‹¹ë˜ëŠ” IP ì£¼ì†Œì…ë‹ˆë‹¤. 
AWS/NCP í™˜ê²½ì—ì„œëŠ” ì´ IP ëŒ€ì—­ì´ AWS/NCP ë‚´ë¶€ ì‹œìŠ¤í…œê³¼ì˜ í†µì‹ ì„ ìœ„í•œ íŠ¹ìˆ˜ ì£¼ì†Œë¡œ ì‚¬ìš©ë˜ê¸°ë„ í•©ë‹ˆë‹¤.

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ip route show&lt;/code&gt; ë¡œ ë¼ìš°íŒ…ì„ í™•ì¸í•´ë³´ë©´&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2025-01-09-[DB]_ë°ì´í„°ë² ì´ìŠ¤_ë§ˆì´ê·¸ë ˆì´ì…˜_ë°_í´ëŸ¬ìŠ¤í„°_ì„¤ì •_.md/5.png&quot; alt=&quot;5&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;169.254.x.x via 192.168.1.1 dev eth0 â€¦ ì™€ ê°™ì€ ë¼ìš°íŒ…ì´ ë³´ì¸ë‹¤.&lt;/p&gt;

&lt;p&gt;169.254.169.53 ì€ eth0 ì¸í„°í˜ì´ìŠ¤ ë¥¼ í†µí•´ì„œ ê°„ë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ë§í¬ ë¡œì»¬ ì£¼ì†ŒëŠ” ë„¤íŠ¸ì›Œí¬ ì¥ì¹˜ ë‹¨ì—ì„œ ì´ë£¨ì–´ì§„ë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;curl&lt;/code&gt; &lt;a href=&quot;http://169.254.169.254/latest/meta-data/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://169.254.169.254/latest/meta-data/&lt;/code&gt;&lt;/a&gt; ë¥¼ í†µí•´ì„œ ì¸ìŠ¤í„´ìŠ¤ ë©”íƒ€ë°ì´í„°ë„ ë³¼ ìˆ˜ê°€ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë‹¹ì—°í•˜ê²Œë„ ì™¸ë¶€ë¡œëŠ” ping ì´ë‚˜ wget/curl ì€ ì•ˆëœë‹¤.&lt;/p&gt;

&lt;p&gt;ìì„¸í•œ ë‚´ìš©ì€ ncp ê°€ì´ë“œê°€ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/linux-os-repository-check&quot;&gt;https://guide.ncloud-docs.com/docs/linux-os-repository-check&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;nat-gateway&quot;&gt;NAT Gateway&lt;/h2&gt;

&lt;p&gt;NCP ê°€ Repository ë¥¼ ì œê³µí•´ì£¼ë‹¤ë³´ë‹ˆ redis ë¥¼ ì„¤ì¹˜í•  ìˆ˜ ìˆê¸´ í•˜ë‹¤. ëŒ€ì‹  ìµœì‹  ë²„ì „ì€ ì—†ì„ ìˆ˜ë„ ìˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë§Œì•½ ìµœì‹  ë²„ì „ì´ë‚˜ NCP Repository ì— ì—†ëŠ” ë²„ì „ì„ ì„¤ì¹˜í•˜ê³  ì‹¶ë‹¤ë©´ NAT Gateway ê°€ í•„ìš”í•˜ë‹¤.&lt;/p&gt;

&lt;p&gt;NCP ì—ì„œ NAT Gateway ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;NAT Gateway ìš© Subnet ìƒì„±&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2025-01-09-[DB]_ë°ì´í„°ë² ì´ìŠ¤_ë§ˆì´ê·¸ë ˆì´ì…˜_ë°_í´ëŸ¬ìŠ¤í„°_ì„¤ì •_.md/6.png&quot; alt=&quot;6&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;NAT Gateway ìƒì„±&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2025-01-09-[DB]_ë°ì´í„°ë² ì´ìŠ¤_ë§ˆì´ê·¸ë ˆì´ì…˜_ë°_í´ëŸ¬ìŠ¤í„°_ì„¤ì •_.md/7.png&quot; alt=&quot;7&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Private Subnet ì— Route Table ì„¤ì •&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2025-01-09-[DB]_ë°ì´í„°ë² ì´ìŠ¤_ë§ˆì´ê·¸ë ˆì´ì…˜_ë°_í´ëŸ¬ìŠ¤í„°_ì„¤ì •_.md/8.png&quot; alt=&quot;8&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ì„ í†µí•´ì„œ Private Subnet ì— NAT ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;redis-ì„¤ì¹˜-ë°-redis-cluster&quot;&gt;Redis ì„¤ì¹˜ ë° Redis Cluster&lt;/h2&gt;

&lt;p&gt;ì›í•˜ëŠ” ë²„ì „ì˜ Redis ë¥¼ ì„¤ì¹˜í•˜ê³  ë‚œ í›„ì—ëŠ” Redis Cluster ì„¤ì •ì„ í•´ì•¼í•œë‹¤.&lt;/p&gt;

&lt;p&gt;ì¼ë‹¨ì€ redis master 3 ëŒ€ì— ê°ê° ë ˆí”Œë¦¬ì¹´ë¥¼ 1ê°œì”© ì„¤ì •í•´ë³´ì.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bash
port {PORT}
maxmemory {MAX_MEMORY}mb 
maxmemory-policy volatile-lru
cluster-enabled yes
cluster-config-file nodes.conf
cluster-node-timeout 5000
cluster-announce-ip {ip}
appendonly yes
bind 0.0.0.0

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;í¬íŠ¸ì™€ maxmemory ëŠ” ì›í•˜ëŠ”ëŒ€ë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤.&lt;/p&gt;

&lt;p&gt;maxmemory-policy ëŠ” ë©”ëª¨ë¦¬ë¥¼ ë¹„ì›Œì¤„ ë•Œ ì–´ë–¤ ê¸°ì¤€ìœ¼ë¡œ ë¹„ìš¸ì§€ë¥¼ ê²°ì •í•œë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;&lt;strong&gt;ì •ì±…&lt;/strong&gt;&lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;ëŒ€ìƒ&lt;/strong&gt;&lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;ì‚­ì œ ê¸°ì¤€&lt;/strong&gt;&lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;ì í•©í•œ ì‚¬ìš© ì‚¬ë¡€&lt;/strong&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;noeviction&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;ì „ì²´ í‚¤&lt;/td&gt;
      &lt;td&gt;ì‚­ì œí•˜ì§€ ì•ŠìŒ&lt;/td&gt;
      &lt;td&gt;ì˜êµ¬ ë°ì´í„° ì €ì¥&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;allkeys-lru&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;ì „ì²´ í‚¤&lt;/td&gt;
      &lt;td&gt;LRU(ì˜¤ë˜ ì‚¬ìš©ë˜ì§€ ì•Šì€ í‚¤)&lt;/td&gt;
      &lt;td&gt;ìºì‹œ ì‹œìŠ¤í…œ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;volatile-lru&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;TTL ì„¤ì •ëœ í‚¤&lt;/td&gt;
      &lt;td&gt;LRU(ì˜¤ë˜ ì‚¬ìš©ë˜ì§€ ì•Šì€ í‚¤)&lt;/td&gt;
      &lt;td&gt;TTL ê¸°ë°˜ ìºì‹œ ì‹œìŠ¤í…œ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;allkeys-random&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;ì „ì²´ í‚¤&lt;/td&gt;
      &lt;td&gt;ëœë¤&lt;/td&gt;
      &lt;td&gt;ë°ì´í„° ì ‘ê·¼ íŒ¨í„´ì´ ë¶ˆê·œì¹™í•  ë•Œ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;volatile-random&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;TTL ì„¤ì •ëœ í‚¤&lt;/td&gt;
      &lt;td&gt;ëœë¤&lt;/td&gt;
      &lt;td&gt;TTL ê¸°ë°˜ ìºì‹œì— ëœë¤ ì œê±°&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;volatile-ttl&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;TTL ì„¤ì •ëœ í‚¤&lt;/td&gt;
      &lt;td&gt;TTLì´ ê°€ì¥ ì§§ì€ í‚¤&lt;/td&gt;
      &lt;td&gt;TTLì´ ì¤‘ìš”í•œ ì‹œê°„ ê¸°ë°˜ ìºì‹œ&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;ëˆˆ ì—¬ê²¨ ë³¼ ë§Œí•œ ì„¤ì •ê°’ì€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cluster-announce-ip&lt;/code&gt; ì¸ë°,&lt;/p&gt;

&lt;p&gt;Redis í´ëŸ¬ìŠ¤í„°ëŠ” í´ë¼ì´ì–¸íŠ¸ê°€ ì—°ê²°í•  ë•Œ, ë…¸ë“œ ê°„ì— ë°ì´í„° ìŠ¬ë¡¯ì„ ë¶„ë°°í•˜ê³  &lt;strong&gt;ì–´ë–¤ ë…¸ë“œì— íŠ¹ì • í‚¤ê°€ ìˆëŠ”ì§€&lt;/strong&gt;ë¥¼ ì•Œë ¤ì¤€ë‹¤.&lt;/p&gt;

&lt;p&gt;ì¦‰ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cluster-announce-ip&lt;/code&gt;ëŠ” ë…¸ë“œê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìì‹ ì„ ì•Œë¦´ ë•Œ ì‚¬ìš©í•˜ëŠ” &lt;strong&gt;ì™¸ë¶€ì— ë…¸ì¶œë˜ëŠ” IP ì£¼ì†Œì´ë‹¤.&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&quot;ë§Œì•½-ë…¸ë“œê°€-ë°ì´í„°ë¥¼-ê°€ì§€ê³ -ìˆì§€-ì•Šë‹¤ë©´&quot;&gt;ë§Œì•½ ë…¸ë“œê°€ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆì§€ ì•Šë‹¤ë©´,&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Docker ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ ì„œë²„ëŠ” &lt;strong&gt;Redis ë…¸ë“œ&lt;/strong&gt;ì— ì ‘ì† í›„ &lt;strong&gt;ìŠ¬ë¡¯ ì´ë™ ëª…ë ¹ì„ ë°›ëŠ”ë‹¤&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Redis í´ëŸ¬ìŠ¤í„°ê°€ ê¸°ë³¸ì ìœ¼ë¡œ &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bind&lt;/code&gt;&lt;/strong&gt;&lt;strong&gt;ëœ ë‚´ë¶€ IP ì£¼ì†Œ&lt;/strong&gt;ë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ì•Œë ¤ì¤€ë‹¤.&lt;/li&gt;
  &lt;li&gt;ë§Œì•½ ë ˆë””ìŠ¤ê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cluster-announce-ip&lt;/code&gt;ë¥¼ ì„¤ì •í•˜ì§€ ì•Šì•˜ë‹¤ë©´, ë ˆë””ìŠ¤ ë…¸ë“œëŠ” Docker ì»¨í…Œì´ë„ˆì—ê²Œ &lt;strong&gt;ë‚´ë¶€ IP(ì˜ˆ: 127.0.0.1 ë˜ëŠ” 172.x.x.x)&lt;/strong&gt;ë¥¼ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.&lt;/li&gt;
  &lt;li&gt;Docker ì»¨í…Œì´ë„ˆëŠ” ì™¸ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œ í•´ë‹¹ &lt;strong&gt;ë‚´ë¶€ IP&lt;/strong&gt;ë¡œ ì ‘ê·¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì—°ê²°ì´ ëŠì–´ì§„ë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì€ ê³¼ì •ìœ¼ë¡œ ë ˆë””ìŠ¤ ì—°ê²°ì´ ì›í™œí•˜ê²Œ ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.&lt;/p&gt;</content><author><name>[&quot;hoeeeeeh&quot;]</name></author><category term="[&quot;íŠ¸ëŸ¬ë¸”ìŠˆíŒ…&quot;]" /><category term="[&quot;íŠ¸ëŸ¬ë¸”ìŠˆíŒ…&quot;]" /><category term="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…" /><summary type="html">ë ˆë””ìŠ¤ í´ëŸ¬ìŠ¤í„° ì„¤ì •</summary></entry><entry><title type="html">ğŸ¬ ì„œë²„ë¥¼ docker swarm ìœ¼ë¡œ ê´€ë¦¬í•´ë³´ì</title><link href="https://blog.liboo.kr/_%EC%84%9C%EB%B2%84%EB%A5%BC_docker_swarm_%EC%9C%BC%EB%A1%9C_%EA%B4%80%EB%A6%AC%ED%95%B4%EB%B3%B4%EC%9E%90" rel="alternate" type="text/html" title="ğŸ¬ ì„œë²„ë¥¼ docker swarm ìœ¼ë¡œ ê´€ë¦¬í•´ë³´ì" /><published>2024-12-04T05:41:00+00:00</published><updated>2024-12-04T05:41:00+00:00</updated><id>https://blog.liboo.kr/%F0%9F%90%AC_%EC%84%9C%EB%B2%84%EB%A5%BC_docker_swarm_%EC%9C%BC%EB%A1%9C_%EA%B4%80%EB%A6%AC%ED%95%B4%EB%B3%B4%EC%9E%90</id><content type="html" xml:base="https://blog.liboo.kr/_%EC%84%9C%EB%B2%84%EB%A5%BC_docker_swarm_%EC%9C%BC%EB%A1%9C_%EA%B4%80%EB%A6%AC%ED%95%B4%EB%B3%B4%EC%9E%90">&lt;h1 id=&quot;ê¸°ì¡´-ì„œë²„-ìš´ì˜-ë°©ì‹&quot;&gt;ê¸°ì¡´ ì„œë²„ ìš´ì˜ ë°©ì‹&lt;/h1&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-ğŸ¬_ì„œë²„ë¥¼_docker_swarm_ìœ¼ë¡œ_ê´€ë¦¬í•´ë³´ì.md/0.png&quot; alt=&quot;0&quot; /&gt;&lt;em&gt;ìµœì´ˆì˜ ì„œë²„ ì„¤ê³„&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ìµœì´ˆì˜ ì„œë²„ ì„¤ê³„ì—ì„œëŠ” NCP ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ 1ëŒ€ì— NGINX, ì±„íŒ… ì„œë²„, API ì„œë²„, RTMP ì„œë²„ê°€ ê°ê° 1ê°œì˜ ì»¨í…Œì´ë„ˆì”© ë„ì›Œì ¸ìˆëŠ” êµ¬ì¡°ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ëŸ¬ë‚˜ ì‹œê°„ì´ ì§€ë‚˜ë©´ì„œ ê°ê°ì˜ ì„œë²„ë¥¼ ìˆ˜í‰ í™•ì¥í•  í•„ìš”ì„±ì„ ëŠë¼ê³  ì„œë²„ë¥¼ ìˆ˜í‰ í™•ì¥ í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë¥¼ ìˆ˜ì •í•˜ê³  ë³´ë‹ˆ ì»¨í…Œì´ë„ˆë¥¼ ì–´ë–»ê²Œ ê´€ë¦¬í•˜ê³ , ë˜ ncp ì„œë²„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì–´ë–»ê²Œ ì¶”ê°€/ì‚­ì œ í•˜ë©´ì„œ ê´€ë¦¬í•´ì•¼í• ì§€ì— ëŒ€í•œ ì–´ë ¤ì›€ì´ ìƒê²¼ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;docker-swarm&quot;&gt;Docker Swarm&lt;/h2&gt;

&lt;p&gt;ë„ì»¤ ìŠ¤ì›œì€ ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ í•¨ê»˜ ì´ì•¼ê¸°ë˜ëŠ” ëŒ€í‘œì ì¸ ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë„êµ¬ì…ë‹ˆë‹¤.  ì´ë¦„ì—ì„œë¶€í„° ì•Œ ìˆ˜ ìˆë“¯ì´ ë„ì»¤ ì—”ì§„ì„ ê·¸ëŒ€ë¡œ ì“°ê¸° ë•Œë¬¸ì— ê°„ë‹¨í•œ ì„¤ì •ë§Œìœ¼ë¡œë„ í´ëŸ¬ìŠ¤í„°ì™€ ì„œë¹„ìŠ¤ë“¤ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì—”í„°í”„ë¼ì´ì¦ˆ ë ˆë²¨ì˜ ìš´ì˜ì„ í•œë‹¤ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ì¡°ê¸ˆ ë” ì¢‹ì•˜ê² ì§€ë§Œ ì•„ì§ê¹Œì§€ëŠ” ì €í¬ í”„ë¡œì íŠ¸ì—ì„œ ë„¤íŠ¸ì›Œí‚¹ì´ë‚˜ Volume ë“±ì„ ê³ ë ¤í•´ë´¤ì„ ë•Œ, ê°„í¸í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ë„ì»¤ ìŠ¤ì›œì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;í´ëŸ¬ìŠ¤í„°ë§&quot;&gt;í´ëŸ¬ìŠ¤í„°ë§&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-ğŸ¬_ì„œë²„ë¥¼_docker_swarm_ìœ¼ë¡œ_ê´€ë¦¬í•´ë³´ì.md/1.png&quot; alt=&quot;1&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-ğŸ¬_ì„œë²„ë¥¼_docker_swarm_ìœ¼ë¡œ_ê´€ë¦¬í•´ë³´ì.md/2.png&quot; alt=&quot;2&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ì €í¬ íŒ€ì€ ê¸°ì¡´ì— ë©”ì¸ production ì„œë²„ 1ëŒ€, í…ŒìŠ¤íŠ¸ìš© development ì„œë²„ 1ëŒ€ë¡œ ì´ 2ëŒ€ ê°€ë™ í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë¦¬ê³  ê°œë°œì´ ì–´ëŠì •ë„ ë§ˆë¬´ë¦¬ ë˜ëŠ” ì‹œì ì¸ 6ì£¼ì°¨ì— ì ‘ì–´ë“¤ë©´ì„œ í…ŒìŠ¤íŠ¸ìš© development ì„œë²„ì˜ í™œìš©ì„±ì´ ì ì  ë–¨ì–´ì¡Œê³ , ë¶€í•˜ í…ŒìŠ¤íŠ¸ë‚˜ ë°ëª¨ ìš©ë„ë¡œ production ì„œë²„ì— ë¶€í•˜ê°€ ì ì  ëŠ˜ì–´ë‚¬ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë˜ì„œ ê¸°ì¡´ì˜ test ì„œë²„ë¥¼ production ì„œë²„ì™€ í´ëŸ¬ìŠ¤í„°ë§ í•˜ë©´ì„œ ë„ì»¤ ì»¨í…Œì´ë„ˆ ê¸°ë°˜ìœ¼ë¡œ ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-ğŸ¬_ì„œë²„ë¥¼_docker_swarm_ìœ¼ë¡œ_ê´€ë¦¬í•´ë³´ì.md/3.png&quot; alt=&quot;3&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-ğŸ¬_ì„œë²„ë¥¼_docker_swarm_ìœ¼ë¡œ_ê´€ë¦¬í•´ë³´ì.md/4.png&quot; alt=&quot;4&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ìœ„ì˜ ì´ë¯¸ì§€ì—ì„œ ë³´ì‹œë‹¤ì‹œí”¼ main, test 2ê°œì˜ ì„œë²„ì— chat-server (replica 3), main-server, rtmp-server (replica 3), nginx ì»¨í…Œì´ë„ˆë¥¼ ë‚˜ëˆ„ì–´ ì‹¤í–‰í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Docker Swarm ì€ ì•„ì‰½ê²Œë„ ì¿ ë²„ë„¤í‹°ìŠ¤ì²˜ëŸ¼ ì»¨í…Œì´ë„ˆì— ëŒ€í•œ ë©”íŠ¸ë¦­ì„ ìë™ìœ¼ë¡œ ìˆ˜ì§‘í•´ì„œ ì˜¤í†  ìŠ¤ì¼€ì¼ë§ì„ í•˜ëŠ” ì‘ì—…ì„ ê³µì‹ì ìœ¼ë¡œ ì œê³µí•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤. ë”°ë¼ì„œ í˜„ì¬ëŠ” ìˆ˜ë™ì ìœ¼ë¡œ ncp ì¸ìŠ¤í„´ìŠ¤ë¥¼ í´ëŸ¬ìŠ¤í„°ë§í•˜ê³  ì„œë¹„ìŠ¤ì˜ scale ì„ ëŠ˜ë¦¬ê³  ì¤„ì—¬ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ ë©”íŠ¸ë¦­ ìˆ˜ì§‘ê³¼ ìë™ ìŠ¤ì¼€ì¼ë§ì„ í•  ìˆ˜ ìˆë„ë¡ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë¦¬íŒ©í† ë§ í•˜ì—¬ ì˜¤í†  ìŠ¤ì¼€ì¼ë§ì„ êµ¬í˜„í•  ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p&gt;</content><author><name>[&quot;hoeeeeeh&quot;]</name></author><category term="[&quot;ê³¼ì •/ê·¼ê±°&quot;]" /><category term="[&quot;ê³¼ì •/ê·¼ê±°&quot;]" /><category term="ê³¼ì •/ê·¼ê±°" /><summary type="html">ê¸°ì¡´ ì„œë²„ ìš´ì˜ ë°©ì‹</summary></entry><entry><title type="html">ì±„íŒ… ì„œë²„ì— Redis ë¥¼ ì“´ ì´ìœ </title><link href="https://blog.liboo.kr/%EC%B1%84%ED%8C%85_%EC%84%9C%EB%B2%84%EC%97%90_Redis_%EB%A5%BC_%EC%93%B4_%EC%9D%B4%EC%9C%A0" rel="alternate" type="text/html" title="ì±„íŒ… ì„œë²„ì— Redis ë¥¼ ì“´ ì´ìœ " /><published>2024-12-04T05:36:00+00:00</published><updated>2024-12-04T05:36:00+00:00</updated><id>https://blog.liboo.kr/%EC%B1%84%ED%8C%85_%EC%84%9C%EB%B2%84%EC%97%90_Redis_%EB%A5%BC_%EC%93%B4_%EC%9D%B4%EC%9C%A0</id><content type="html" xml:base="https://blog.liboo.kr/%EC%B1%84%ED%8C%85_%EC%84%9C%EB%B2%84%EC%97%90_Redis_%EB%A5%BC_%EC%93%B4_%EC%9D%B4%EC%9C%A0">&lt;h1 id=&quot;ì´ˆê¸°-ì„¤ê³„&quot;&gt;ì´ˆê¸° ì„¤ê³„&lt;/h1&gt;

&lt;p&gt;ì´ˆê¸°ì˜ ì±„íŒ… ì„œë²„ ì„¤ê³„ëŠ” êµ‰ì¥íˆ ì§ê´€ì ì¸ ì„¤ê³„ë¥¼ ê°€ì¡ŒìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-ì±„íŒ…_ì„œë²„ì—_Redis_ë¥¼_ì“´_ì´ìœ .md/0.png&quot; alt=&quot;0&quot; /&gt;&lt;em&gt;ì´ˆê¸° ì±„íŒ… ì„œë²„ ì„¤ê³„&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://socket.io/&quot;&gt;socket.io&lt;/a&gt; ì™€ nest.js ë¥¼ í™œìš©í•´ì„œ ì±„íŒ… ì„œë²„ë¥¼ ì‘ì„±í–ˆê³ , 1ëŒ€ì˜ ì±„íŒ… ì„œë²„ê°€ ìœ ì €ì˜ ëª¨ë“  ë©”ì„¸ì§€ ì´ë²¤íŠ¸ë¥¼ ë°›ì•„, ê°™ì€ ë°©ì— ìˆëŠ” ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì„¸ì§€ ì´ë²¤íŠ¸ë¥¼ emit í•˜ëŠ” êµ¬ì¡°ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;ì´ˆê¸°-ì„¤ê³„ì—ì„œì˜-ë‹¨ìˆœ-ìˆ˜í‰-í™•ì¥&quot;&gt;ì´ˆê¸° ì„¤ê³„ì—ì„œì˜ ë‹¨ìˆœ ìˆ˜í‰ í™•ì¥&lt;/h1&gt;

&lt;p&gt;ì´ˆê¸°ì˜ ë‹¨ìˆœí•œ ì„¤ê³„ì—ì„œ ë¶€í•˜ê°€ ì—†ì„ ë•ŒëŠ” í° ë¬¸ì œë¥¼ ëŠë¼ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ê³¼ë„í•œ ë¶€í•˜ê°€ ê±¸ë¦¬ëŠ” ìƒí™©ì—ëŠ” ì±„íŒ… ì„œë²„ì˜ í™•ì¥ì´ í•„ìš”í•´ì¡ŒìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í”„ë¡ íŠ¸ì—”ë“œ ë¶„ë“¤ì´ SharedWorker ì†Œì¼“ì„ ë„ì…í•¨ìœ¼ë¡œì¨ ì„œë²„ì˜ ë¶€í•˜ë¥¼ ì¤„ì˜€ë‹¤ë©´, ì„œë²„ëŠ” ìˆ˜í‰ì  í™•ì¥ì„ í†µí•´ì„œ ë¶€í•˜ë¥¼ ì»¨íŠ¸ë¡¤ í•˜ëŠ” ê²ƒì„ ì‹œë„í•´ë´¤ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ ë‹¨ìˆœíˆ ìƒˆë¡œìš´ ì±„íŒ… ì„œë²„ ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ ë” ë„ì›Œì„œ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•´ë³´ë©´ ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìš°ì„  ìœ ì €ë“¤ê°„ ì±„íŒ…ì˜ ë™ê¸°í™”ê°€ ì´ë£¨ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ëˆ„êµ°ê°€ ë³´ë‚¸ ì±„íŒ…ì„ ë‹¤ë¥¸ ëˆ„êµ°ê°€ëŠ” ë³´ê¸°ë„ í•˜ê³ , ëª» ë³´ê¸°ë„ í•©ë‹ˆë‹¤.
ì •í™•íˆëŠ” ê°™ì€ ì±„íŒ… ì„œë²„ì— ìˆëŠ” ìœ ì €ëŠ” ë³¼ ìˆ˜ ìˆê³ , ë‹¤ë¥¸ ì±„íŒ… ì„œë²„ì— ìˆëŠ” ìœ ì €ëŠ” ë³¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ ì„œë²„ì—ì„œë„ ìœ ì €ë¥¼ ì°¨ë‹¨í•˜ë ¤ê³  í–ˆì„ ë•Œ, ì–´ëŠ ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì•¼ í•  ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ëª¨ë“  ì„œë²„ì— í•´ë‹¹ ìœ ì €ì˜ ì •ë³´ê°€ ì¡´ì¬í•˜ëŠ”ì§€ ìš”ì²­ì„ ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ì²˜ëŸ¼ ì±„íŒ… ì„œë²„ë¥¼ ìˆ˜í‰ í™•ì¥í–ˆì„ ë•Œ, ì±„íŒ… ì„œë²„ê°„ ë°ì´í„° ê³µìœ ë¥¼ í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤ëŠ” ë¬¸ì œì ì´ ë°œìƒí•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-ì±„íŒ…_ì„œë²„ì—_Redis_ë¥¼_ì“´_ì´ìœ .md/1.png&quot; alt=&quot;1&quot; /&gt;&lt;em&gt;ë‹¨ìˆœí•˜ê²Œ ìˆ˜í‰ í™•ì¥í•œ êµ¬ì¡°&lt;/em&gt;&lt;/p&gt;

&lt;h1 id=&quot;ìˆ˜í‰-í™•ì¥ì„-ê³ ë ¤í•œ-êµ¬ì¡°-ì¬ì„¤ê³„&quot;&gt;ìˆ˜í‰ í™•ì¥ì„ ê³ ë ¤í•œ êµ¬ì¡° ì¬ì„¤ê³„&lt;/h1&gt;

&lt;p&gt;ì €í¬ëŠ” ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ redis pub/sub êµ¬ì¡°ë¥¼ í™œìš©í–ˆìŠµë‹ˆë‹¤.
ì±„íŒ… ì„œë²„ A ì˜ â€˜libooâ€™ ë¼ëŠ” room ìœ¼ë¡œ ë©”ì„¸ì§€ê°€ ì˜¨ë‹¤ë©´, ì±„íŒ… ì„œë²„ A ëŠ” redis pub/sub êµ¬ì¡°ë¥¼ í†µí•´ì„œ ë‹¤ë¥¸ ì±„íŒ… ì„œë²„ B/C ë¡œë„ ë©”ì„¸ì§€ë¥¼ ì „íŒŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì±„íŒ… ì„œë²„ B, C ëŠ” ë ˆë””ìŠ¤ë¡œë¶€í„° ë°›ì€ ì´ë²¤íŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•´ë‹¹ ì±„íŒ… ì„œë²„ì— ìˆëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì„¸ì§€ë¥¼ emit í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë˜í•œ, ì±„íŒ… ì„œë²„ë¥¼ ìˆ˜í‰ í™•ì¥í•˜ë”ë¼ë„ redis ì¸ìŠ¤í„´ìŠ¤ê°€ í•˜ë‚˜ë¼ë©´ ê°™ì€ ë¬¸ì œê°€ ë°˜ë³µëœë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.
ë”°ë¼ì„œ redis ì¸ìŠ¤í„´ìŠ¤ë„ í™•ì¥ì´ ê°€ëŠ¥í•˜ë„ë¡ redis-cluster ë¡œ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-ì±„íŒ…_ì„œë²„ì—_Redis_ë¥¼_ì“´_ì´ìœ .md/2.png&quot; alt=&quot;2&quot; /&gt;&lt;em&gt;redis pub/sub ì„ í™œìš©í•œ êµ¬ì¡° ì¬ì„¤ê³„&lt;/em&gt;&lt;/p&gt;</content><author><name>[&quot;hoeeeeeh&quot;]</name></author><category term="[&quot;ê³¼ì •/ê·¼ê±°&quot;]" /><category term="[&quot;ê³¼ì •/ê·¼ê±°&quot;]" /><category term="ê³¼ì •/ê·¼ê±°" /><summary type="html">ì´ˆê¸° ì„¤ê³„</summary></entry><entry><title type="html">í™•ì¥ì„±ì„ ê³ ë ¤í•œ ì´ˆë°˜ ì„œë²„ ì„¤ê³„</title><link href="https://blog.liboo.kr/%ED%99%95%EC%9E%A5%EC%84%B1%EC%9D%84_%EA%B3%A0%EB%A0%A4%ED%95%9C_%EC%B4%88%EB%B0%98_%EC%84%9C%EB%B2%84_%EC%84%A4%EA%B3%84" rel="alternate" type="text/html" title="í™•ì¥ì„±ì„ ê³ ë ¤í•œ ì´ˆë°˜ ì„œë²„ ì„¤ê³„" /><published>2024-12-04T05:04:00+00:00</published><updated>2024-12-04T05:04:00+00:00</updated><id>https://blog.liboo.kr/%ED%99%95%EC%9E%A5%EC%84%B1%EC%9D%84_%EA%B3%A0%EB%A0%A4%ED%95%9C_%EC%B4%88%EB%B0%98_%EC%84%9C%EB%B2%84_%EC%84%A4%EA%B3%84</id><content type="html" xml:base="https://blog.liboo.kr/%ED%99%95%EC%9E%A5%EC%84%B1%EC%9D%84_%EA%B3%A0%EB%A0%A4%ED%95%9C_%EC%B4%88%EB%B0%98_%EC%84%9C%EB%B2%84_%EC%84%A4%EA%B3%84">&lt;h1 id=&quot;í™•ì¥ì„±&quot;&gt;í™•ì¥ì„±&lt;/h1&gt;

&lt;p&gt;Liboo í”„ë¡œì íŠ¸ì˜ ì²˜ìŒ êµ¬ì¡°ë¥¼ ì„¤ê³„í• ë•ŒëŠ” ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì€ êµ¬ì¡°ì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-í™•ì¥ì„±ì„_ê³ ë ¤í•œ_ì´ˆë°˜_ì„œë²„_ì„¤ê³„.md/0.png&quot; alt=&quot;0&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;ì €í¬ ì„œë²„ëŠ” ë„¤ì´ë²„ ë¶€ìŠ¤íŠ¸ìº í”„ ìµœì¢… ë°œí‘œ ì‹œì ì— ìƒê¸°ëŠ” ë¶€í•˜ë¥¼ ê°ë‹¹í•  ìˆ˜ ìˆì„ ì •ë„ë¡œ ì„¤ê³„ë¥¼ í•´ë³´ëŠ” ê²ƒì´ ëª©í‘œì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ê·¸ë¦¼ì´ ë‹¤ì†Œ ë‚œì¡í•˜ì§€ë§Œ ì£¼ìš”í•œ ë¶€ë¶„ì€ RTMP ì„œë²„, ë©”ì¸ (API) ì„œë²„, ê·¸ë¦¼ì—ëŠ” ì—†ì§€ë§Œ ì±„íŒ… ì„œë²„ë¥¼ ì „ë¶€ ë¶„ë¦¬í–ˆë‹¤ëŠ” ì ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë ‡ê²Œ ë¶„ë¦¬í–ˆë˜ ì´ìœ ëŠ” RTMP ì„œë²„ëŠ” RTMP ìŠ¤íŠ¸ë¦¼ ë°ì´í„°ë¥¼ HLS ì„¸ê·¸ë¨¼íŠ¸ì™€ index íŒŒì¼ë¡œ íŠ¸ëœìŠ¤íŒŒì¼ë§ í•˜ëŠ”, CPU intensive í•œ ì‘ì—…ì„ ë§ì´ í•  ê±°ë¼ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ì— ë°˜í•´ API ì„œë²„ëŠ” í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ë©´ì„œ ë©”ëª¨ë¦¬ì™€ DB I/O ì— ë” ì§‘ì¤‘ì ì´ê³ ,&lt;/p&gt;

&lt;p&gt;ì±„íŒ… ì„œë²„ëŠ” ì‚¬ìš©ì ìˆ˜ê°€ ë§¤ìš° ë§ì•„ì§„ë‹¤ë©´ ë™ì‹œì— ì²˜ë¦¬ í•˜ëŠ”ë° CPU ë¥¼ ë§ì´ ì“¸ ìˆ˜ ìˆê² ì§€ë§Œ ê¸°ë³¸ì ìœ¼ë¡œ ë©”ëª¨ë¦¬ì™€ ë„¤íŠ¸ì›Œí¬ ì²˜ë¦¬ëŸ‰ì´ ì¡°ê¸ˆ ë” ì§‘ì¤‘ì ì´ë¼ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;RTMP, API, ì±„íŒ… ì„œë²„ê°€ í•˜ë‚˜ì˜ ì„œë²„ë¡œ ê´€ë¦¬ëœë‹¤ë©´ RTMP ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬ ì‘ì—…ì„ ìœ„í•´ì„œ CPU ì‚¬ìš©ëŸ‰ì´ ê³¼ë„í•˜ê²Œ ë†’ì•„ì§€ë©´ ì„œë²„ë¥¼ ìŠ¤ì¼€ì¼ë§í•  ë•Œ API ì™€ ì±„íŒ… ì„œë²„ë„ ê°™ì´ ëŠ˜ì–´ë‚˜ì•¼ í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì €í¬ëŠ” ì„œë²„ë¥¼ ê°ê°ì˜ ì—­í• ì— ë§ê²Œ, ì§‘ì¤‘ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë¶€ë¶„ì— ë§ê²Œ ë¶„ë¦¬ë¥¼ í•´ì„œ ì„œë²„ ìŠ¤ì¼€ì¼ë§ì´ íš¨ìœ¨ì ìœ¼ë¡œ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆë„ë¡, í™•ì¥ì„±ì„ ê³ ë ¤í•´ë³´ëŠ” ê²ƒì´ ì´ë²ˆ í”„ë¡œì íŠ¸ì˜ ê°€ì¥ í° ëª©í‘œì˜€ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-í™•ì¥ì„±ì„_ê³ ë ¤í•œ_ì´ˆë°˜_ì„œë²„_ì„¤ê³„.md/1.png&quot; alt=&quot;1&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ì „ì²´ì ì¸ ì„œë²„ì˜ ì•„í‚¤í…ì²˜ êµ¬ì¡°ëŠ” ìœ„ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;</content><author><name>[&quot;hoeeeeeh&quot;]</name></author><category term="[&quot;ê³¼ì •/ê·¼ê±°&quot;]" /><category term="[&quot;ê³¼ì •/ê·¼ê±°&quot;]" /><category term="ê³¼ì •/ê·¼ê±°" /><summary type="html">í™•ì¥ì„±</summary></entry><entry><title type="html">ì—ëŸ¬í˜ì´ì§€ ë‹¤ë£¨ê¸°</title><link href="https://blog.liboo.kr/%EC%97%90%EB%9F%AC%ED%8E%98%EC%9D%B4%EC%A7%80_%EB%8B%A4%EB%A3%A8%EA%B8%B0" rel="alternate" type="text/html" title="ì—ëŸ¬í˜ì´ì§€ ë‹¤ë£¨ê¸°" /><published>2024-12-04T04:14:00+00:00</published><updated>2024-12-04T04:14:00+00:00</updated><id>https://blog.liboo.kr/%EC%97%90%EB%9F%AC%ED%8E%98%EC%9D%B4%EC%A7%80_%EB%8B%A4%EB%A3%A8%EA%B8%B0</id><content type="html" xml:base="https://blog.liboo.kr/%EC%97%90%EB%9F%AC%ED%8E%98%EC%9D%B4%EC%A7%80_%EB%8B%A4%EB%A3%A8%EA%B8%B0">&lt;h3 id=&quot;ì—ëŸ¬í˜ì´ì§€-ë„ì…ë°°ê²½&quot;&gt;ì—ëŸ¬í˜ì´ì§€ ë„ì…ë°°ê²½&lt;/h3&gt;

&lt;p&gt;íŠ¹ì • ì»´í¬ë„ŒíŠ¸ê°€ ì—ëŸ¬ì‹œì— ë¶€ëª¨ë¡œ ì—ëŸ¬ì²˜ë¦¬ì˜ ì—­í• ì„ ìœ„ì„í•˜ì—¬ ì²˜ë¦¬í•œ ê¸°ì¡´ì˜ ë°©ì‹ê³¼ ë‹¤ë¥´ê²Œ í˜ì´ì§€ ì „ì²´ê°€ ì—ëŸ¬ë¥¼ ë‹¤ë¤„ì•¼ í•˜ëŠ” ê²½ìš°ë„ ìˆë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;ì˜ëª»ëœ ì£¼ì†Œë¡œ ì ‘ê·¼&lt;/strong&gt;í•˜ëŠ” ê²½ìš°&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;ì˜ëª»ëœ IDë¡œ ë°ì´í„°ë¥¼ ìš”ì²­&lt;/strong&gt;í•˜ëŠ” ê²½ìš°&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ì˜ëª»ëœ ì£¼ì†Œë¡œ ì ‘ê·¼í•˜ëŠ” ê²½ìš°&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
&amp;lt;Routes&amp;gt;
  &amp;lt;Route path=&quot;/&quot; element={&amp;lt;MainPage /&amp;gt;} /&amp;gt;
  &amp;lt;Route path=&quot;/live/:id&quot; element={&amp;lt;ClientPage /&amp;gt;} /&amp;gt;
  &amp;lt;Route path=&quot;/replay/:id&quot; element={&amp;lt;ReplayPage /&amp;gt;} /&amp;gt;
  &amp;lt;Route path=&quot;/host&quot; element={&amp;lt;HostPage /&amp;gt;} /&amp;gt;
  &amp;lt;Route path=&quot;*&quot; element={&amp;lt;ErrorPage /&amp;gt;} /&amp;gt;
&amp;lt;/Routes&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;íŠ¹ì • ë¼ìš°íŒ…ì„ ì œì™¸í•œ í˜ì´ì§€ëŠ” ì—ëŸ¬í˜ì´ì§€ë¡œ ê°€ë„ë¡ ì²˜ë¦¬&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ì˜ëª»ëœ IDë¡œ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ëŠ” ê²½ìš°&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;í˜ì´ì§€ì—ì„œ ë°ì´í„°ë¥¼ í˜ì¹­í•´ì˜¬ ë•Œ useParamìœ¼ë¡œ IDë¥¼ ì¶”ì¶œí•´ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²½ìš°ê°€ ìˆì—ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-ì—ëŸ¬í˜ì´ì§€_ë‹¤ë£¨ê¸°.md/0.png&quot; alt=&quot;0&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ì—¬ê¸°ì„œ IDê°€ ì˜ëª»ë˜ëŠ” ê²½ìš°ì— ì–´ë–»ê²Œ ì²˜ë¦¬ë¥¼ í•´ì•¼í• ì§€ ê³ ë¯¼í–ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ë¹„ë””ì˜¤ë¥¼ ë³´ì—¬ì£¼ëŠ” ë¶€ë¶„ë§Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AsyncBoundary&lt;/code&gt;ë¡œ ì—ëŸ¬ì²˜ë¦¬ë¥¼ í•˜ê¸°&lt;/li&gt;
  &lt;li&gt;ì—ëŸ¬í˜ì´ì§€ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;navigate&lt;/code&gt;í•˜ê¸°&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ê²°ë¡ ì ìœ¼ë¡œ &lt;strong&gt;ì—ëŸ¬í˜ì´ì§€ë¡œ&lt;/strong&gt; &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;navigate&lt;/code&gt;&lt;/strong&gt;&lt;strong&gt;í•˜ëŠ” ë°©ë²•&lt;/strong&gt;ì„ ì„ íƒ&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ë¹„ë””ì˜¤ë¶€ë¬¸ë§Œ ì—ëŸ¬ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ &lt;strong&gt;ì£¼ì†Œ ìì²´ê°€ ì˜ëª»ëœ ê²ƒ&lt;/strong&gt;ì´ë¼ íŒë‹¨í•˜ì—¬ ì—ëŸ¬í˜ì´ì§€ë¡œ ë„˜ê¸°ëŠ”ê²Œ ë§ë‹¤ íŒë‹¨&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ë˜í•œ, ì˜ëª»ëœ IDë¥¼ í†µí•´ ë°ì´í„°ë¥¼ í˜ì¹˜í•´ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆì§€ë§Œ ê·¼ë³¸ì ì¸ ì´ìœ ëŠ” IDê°€ ìœ íš¨í•˜ì§€ ì•Šì€ ê²ƒ ë•Œë¬¸ì´ë¯€ë¡œ&lt;/p&gt;

&lt;p&gt;IDê°€ ìœ íš¨í•œì§€ APIë¡œ ì´ˆê¸° ì²´í¬ë¥¼ í•  í•„ìš”ì„±ì„ ëŠê¼ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ê³ ì°¨í•¨ìˆ˜ë¡œ-ìœ íš¨í•œ-idíŒŒì•…í•˜ê¸°&quot;&gt;ê³ ì°¨í•¨ìˆ˜ë¡œ ìœ íš¨í•œ IDíŒŒì•…í•˜ê¸°&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;useCheckLiveExist&lt;/code&gt; í›…ì„ í†µí•´ idê°€ ìœ íš¨í•œì§€ í™•ì¸í•˜ê³  ìœ íš¨í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬í˜ì´ì§€ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;navigate&lt;/code&gt;ì²˜ë¦¬&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;withLiveExistCheck&lt;/code&gt;ë¼ëŠ” ê³ ì°¨í•¨ìˆ˜ë¥¼ í†µí•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClientPage&lt;/code&gt;ì™€ ê°™ì€ í˜ì´ì§€ ì „ì²´ë¥¼ ê°ì‹¸ë„ë¡ êµ¬í˜„&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
export default function withLiveExistCheck&amp;lt;P extends object&amp;gt;(WrappedComponent: ComponentType&amp;lt;P&amp;gt;) {
  return function WithLiveExistCheckComponent(props: P) {
    const { id: liveId } = useParams();
    const navigate = useNavigate();

    const { data: isLiveExistData } = useCheckLiveExist({ liveId: liveId as string });
    const isLiveExist = isLiveExistData?.existed;

    useEffect(() =&amp;gt; {
      if (!isLiveExist) {
        navigate(&apos;/error&apos;);
      }
    }, [isLiveExistData]);

    return &amp;lt;WrappedComponent {...props} /&amp;gt;;
  };
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
function ClientPageComponent() {
  return (
    &amp;lt;&amp;gt;
      &amp;lt;Header /&amp;gt;
      &amp;lt;ClientContainer&amp;gt;
        &amp;lt;AsyncBoundary pendingFallback={&amp;lt;&amp;gt;&amp;lt;/&amp;gt;} rejectedFallback={() =&amp;gt; &amp;lt;PlayerStreamError /&amp;gt;}&amp;gt;
          &amp;lt;ClientView /&amp;gt;
          &amp;lt;ClientChatRoom /&amp;gt;
        &amp;lt;/AsyncBoundary&amp;gt;
      &amp;lt;/ClientContainer&amp;gt;
    &amp;lt;/&amp;gt;
  );
}

const ClientPage = withLiveExistCheck(ClientPageComponent);

export default ClientPage;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;ì™œ ê³ ì°¨í•¨ìˆ˜ë¡œ í˜ì´ì§€ë¥¼ ê°ì‹¸ëŠ” ì„ íƒì„ í–ˆì„ê¹Œ&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClientPage&lt;/code&gt; ë¿ë§Œì•„ë‹ˆë¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ReplayPage&lt;/code&gt;ì—ì„œë„ IDê²€ì¦ì´ í•„ìš”í•´ì„œ  ì¤‘ë³µ ë¡œì§ì„ ì œê±°&lt;/li&gt;
  &lt;li&gt;ì—­í•  ë¶„ë¦¬ : Idë¥¼ ê²€ì¦í•˜ì—¬ ì—ëŸ¬í˜ì´ì§€ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;navigate&lt;/code&gt;í•˜ëŠ” ë¡œì§ê³¼ ë Œë”ë§ ë¡œì§ì„ &lt;strong&gt;ë¶„ë¦¬&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>[&quot;í™ì°½í˜„&quot;]</name></author><category term="[&quot;ê³¼ì •/ê·¼ê±°&quot;]" /><category term="[&quot;ê³¼ì •/ê·¼ê±°&quot;]" /><category term="ê³¼ì •/ê·¼ê±°" /><summary type="html">ì—ëŸ¬í˜ì´ì§€ ë„ì…ë°°ê²½</summary></entry><entry><title type="html">React-Queryë¡œ ì•ˆì •ì ì¸ ìŠ¤íŠ¸ë¦¬ë°ì„ ìœ„í•œ ë¡œë”© ë° ì—ëŸ¬ ê´€ë¦¬í•˜ê¸°</title><link href="https://blog.liboo.kr/React-Query%EB%A1%9C_%EC%95%88%EC%A0%95%EC%A0%81%EC%9D%B8_%EC%8A%A4%ED%8A%B8%EB%A6%AC%EB%B0%8D%EC%9D%84_%EC%9C%84%ED%95%9C_%EB%A1%9C%EB%94%A9_%EB%B0%8F_%EC%97%90%EB%9F%AC_%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0" rel="alternate" type="text/html" title="React-Queryë¡œ ì•ˆì •ì ì¸ ìŠ¤íŠ¸ë¦¬ë°ì„ ìœ„í•œ ë¡œë”© ë° ì—ëŸ¬ ê´€ë¦¬í•˜ê¸°" /><published>2024-12-04T03:09:00+00:00</published><updated>2024-12-04T03:09:00+00:00</updated><id>https://blog.liboo.kr/React-Query%EB%A1%9C_%EC%95%88%EC%A0%95%EC%A0%81%EC%9D%B8_%EC%8A%A4%ED%8A%B8%EB%A6%AC%EB%B0%8D%EC%9D%84_%EC%9C%84%ED%95%9C_%EB%A1%9C%EB%94%A9_%EB%B0%8F_%EC%97%90%EB%9F%AC_%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0</id><content type="html" xml:base="https://blog.liboo.kr/React-Query%EB%A1%9C_%EC%95%88%EC%A0%95%EC%A0%81%EC%9D%B8_%EC%8A%A4%ED%8A%B8%EB%A6%AC%EB%B0%8D%EC%9D%84_%EC%9C%84%ED%95%9C_%EB%A1%9C%EB%94%A9_%EB%B0%8F_%EC%97%90%EB%9F%AC_%EA%B4%80%EB%A6%AC%ED%95%98%EA%B8%B0">&lt;h2 id=&quot;ë¬¸ì œ-ì¸ì‹&quot;&gt;ğŸš¨Â ë¬¸ì œ ì¸ì‹&lt;/h2&gt;

&lt;p&gt;HLSì˜ìƒì„ ë¹„ë™ê¸°ë¡œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ë•Œ ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°ê°ì˜ ë°©ì‹ìœ¼ë¡œ ë¡œë”© ë° ì—ëŸ¬ì²˜ë¦¬ë¥¼ ì²˜ë¦¬í–ˆê³ , ê·¸ ê²°ê³¼ ì¼ì • &lt;strong&gt;ì½”ë“œê°€ ì¤‘ë³µ&lt;/strong&gt;ë˜ì—ˆê³  &lt;strong&gt;ë¹„íš¨ìœ¨ì &lt;/strong&gt;ì´ì—ˆë‹¤. ì´ë¥¼ ì²´ê³„í™”í•˜ì—¬ ë¹„ë™ê¸°ë¡œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ë•Œì˜ ìƒí™©ì„ ì •ë¦¬í•  í•„ìš”ì„±ì´ ìˆì—ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ê¸°ì¡´ì˜ ì½”ë“œ&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
const MainLiveSection = ({ title, type }: MainLiveSectionProps) =&amp;gt; {
  const { data = [], isLoading, error } = useRecentLive();

  if (error) {
    return &amp;lt;div&amp;gt;ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.&amp;lt;/div&amp;gt;;
  }

  return (
    &amp;lt;MainSectionContainer&amp;gt;
      &amp;lt;MainSectionHeader&amp;gt;
        &amp;lt;p className=&quot;live_section_title&quot;&amp;gt;{title}&amp;lt;/p&amp;gt;
        &amp;lt;button className=&quot;live_section_button&quot;&amp;gt;ì „ì²´ë³´ê¸°&amp;lt;/button&amp;gt;
      &amp;lt;/MainSectionHeader&amp;gt;

      {isLoading &amp;amp;&amp;amp; &amp;lt;div&amp;gt;ë¡œë”© ì¤‘...&amp;lt;/div&amp;gt;}

      {data.length === 0 &amp;amp;&amp;amp; !isLoading &amp;amp;&amp;amp; &amp;lt;div&amp;gt;ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.&amp;lt;/div&amp;gt;}
				// ì½”ë“œ ìƒëµ
    &amp;lt;/MainSectionContainer&amp;gt;
  );
};

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì€ ì½”ë“œê°€ ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì»´í¬ë„ŒíŠ¸ë§ˆë‹¤ ìˆì—ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isLoading&lt;/code&gt;ê³¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;error&lt;/code&gt;ì¼ë•Œ ê°ê° ì—°ì‚°ìì™€ ì¡°ê±´ë¬¸ì„ í†µí•´ì„œ ì²˜ë¦¬í–ˆì—ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;í•´ê²°-ê³¼ì •&quot;&gt;ğŸƒÂ í•´ê²° ê³¼ì •&lt;/h2&gt;

&lt;h3 id=&quot;ê´€ì‹¬ì‚¬ë¥¼-ë¶„ë¦¬í• -ê²ƒ&quot;&gt;ê´€ì‹¬ì‚¬ë¥¼ ë¶„ë¦¬í•  ê²ƒ&lt;/h3&gt;

&lt;p&gt;ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ì„ ë Œë”ë§ë˜ëŠ” ê²ƒì—ë§Œ &lt;strong&gt;ì§‘ì¤‘&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ë¹„ì§€ë‹ˆìŠ¤ ë¡œì§&lt;/li&gt;
  &lt;li&gt;ë Œë”ë§ ë¡œì§&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ë¡œë”©ê³¼ ì—ëŸ¬ì²˜ë¦¬ëŠ” í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì˜ &lt;strong&gt;ê´€ì‹¬ì‚¬ì—ì„œ ë²—ì–´ë‚œë‹¤ê³  íŒë‹¨&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;â†’ ë¡œë”©ê³¼ ì—ëŸ¬ì²˜ë¦¬ ì—­í• ì„ &lt;strong&gt;ë¶€ëª¨(ì²˜ë¦¬í•´ì•¼í•  ë¶€ë¶„)&lt;/strong&gt;ë¡œ ìœ„ì„&lt;/p&gt;

&lt;h3 id=&quot;suspenseì²˜ë¦¬ë¥¼-ì™œ-í•´ì•¼í•˜ëŠ”ê°€ì—-ëŒ€í•œ-ì˜ë¬¸&quot;&gt;Suspenseì²˜ë¦¬ë¥¼ ì™œ í•´ì•¼í•˜ëŠ”ê°€ì— ëŒ€í•œ ì˜ë¬¸&lt;/h3&gt;

&lt;p&gt;ê¸°ì¡´ì— ê°„ë‹¨í•˜ê²Œ ë¡œë”©ì‹œì—ëŠ”&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
{isLoading &amp;amp;&amp;amp; &amp;lt;div&amp;gt;ë¡œë”© ì¤‘...&amp;lt;/div&amp;gt;}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì™€ ê°™ì´ ë¹„ë™ê¸° ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ê±¸ë¦¬ëŠ” ì‹œê°„ì— ëŒ€í•´ì„œ í¬ê²Œ ê³ ë¯¼í•˜ì§€ ì•Šì•˜ë‹¤. ë˜í•œ, ë‹¨ìˆœíˆ ì‚¬ìš©ì ê²½í—˜ì˜ í–¥ìƒì´ë¼ëŠ” ì´ìœ ë¡œ ë¡œë”©ì²˜ë¦¬ë¥¼ í•˜ëŠ” ê²ƒì´ë¼ íŒë‹¨í–ˆì§€ë§Œ ìµœì í™”ì™€ë„ ê´€ë ¨ì´ ìˆì—ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ë ˆì´ì•„ì›ƒ ì‹œí”„íŠ¸ (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Layout Shift&lt;/code&gt;)
    &lt;ul&gt;
      &lt;li&gt;ì›¹ í˜ì´ì§€ì˜ ìš”ì†Œë“¤ì´ ì˜ˆìƒì¹˜ ëª»í•˜ê²Œ ì´ë™í•˜ëŠ” í˜„ìƒ&lt;/li&gt;
      &lt;li&gt;ê¸°ì¡´ì— ê³„ì‚°ë˜ì—ˆë˜ Layoutì´ ë‹¤ì‹œ ê³„ì‚°ë˜ëŠ” ë¬¸ì œê°€ ìˆìŒ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Layout Shift&lt;/code&gt; í˜„ìƒì´ ì¼ì–´ë‚˜ì§€ ì•Šë„ë¡ í•˜ê¸° ìœ„í•´ì„œ ë³´ì—¬ì¤˜ì•¼í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì™€ í¬ê¸°ê°€ ê°™ì€ ì»´í¬ë„ŒíŠ¸ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Suspense&lt;/code&gt; fallbackì»´í¬ë„ŒíŠ¸ì— ë³´ë‚´ì£¼ê²Œ ë˜ë©´ Layoutì´ ë‹¤ì‹œ ê³„ì‚°ë˜ì§€ ì•Šì•„ì„œ &lt;strong&gt;ì‚¬ìš©ì ê²½í—˜&lt;/strong&gt;ê³¼ &lt;strong&gt;ìµœì í™”&lt;/strong&gt;ë¥¼ ë™ì‹œì— í•´ê²°í•  ìˆ˜ ìˆìŒ&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
&amp;lt;Suspense fallback={&amp;lt;RecommendLiveSkeleton /&amp;gt;}&amp;gt;
  &amp;lt;DataComponent /&amp;gt;
&amp;lt;/Suspense&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Suspenseì˜ fallbackì»´í¬ë„ŒíŠ¸ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;skeleton&lt;/code&gt;ì„ ì§ì ‘ ë§Œë“¤ì–´ì„œ ëŒ€ì‘&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;skeleton ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ ì •
    &lt;ul&gt;
      &lt;li&gt;react-loading-skeleton, react-skeleton-loader : ê°„ë‹¨í•˜ê³  ë¹ ë¥´ê²Œ ì ìš©&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;react-content-loader&lt;/code&gt;&lt;/strong&gt; : ë””ìì¸ì„ &lt;strong&gt;ì»¤ìŠ¤í„°ë§ˆì´ì§•&lt;/strong&gt; ê°€ëŠ¥ (svg ê¸°ë°˜)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ì´ˆê¸° ë¡œë”©í™”ë©´&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-React-Queryë¡œ_ì•ˆì •ì ì¸_ìŠ¤íŠ¸ë¦¬ë°ì„_ìœ„í•œ_ë¡œë”©_ë°_ì—ëŸ¬_ê´€ë¦¬í•˜ê¸°.md/0.png&quot; alt=&quot;0&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ê°œì„  í›„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-React-Queryë¡œ_ì•ˆì •ì ì¸_ìŠ¤íŠ¸ë¦¬ë°ì„_ìœ„í•œ_ë¡œë”©_ë°_ì—ëŸ¬_ê´€ë¦¬í•˜ê¸°.md/1.png&quot; alt=&quot;1&quot; /&gt;&lt;em&gt;%EC%97%90%EB%9F%AC%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8.gif&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ì¶”ê°€ë¡œ, ì›¹í˜ì´ì§€ì˜ ì„±ëŠ¥ì§€í‘œì¸ &lt;strong&gt;CLS(Cumulative Layout Shift)&lt;/strong&gt;ë¥¼ í†µí•´ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Layout Shift&lt;/code&gt; ë¹ˆë„ë¥¼ ì¸¡ì •í•  ìˆ˜ ìˆìŒ&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://wit.nts-corp.com/2020/12/28/6240&quot;&gt;https://wit.nts-corp.com/2020/12/28/6240&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;react-queryë¥¼-í™œìš©í•˜ì—¬-suspense-ì²˜ë¦¬í•˜ê¸°&quot;&gt;React-Queryë¥¼ í™œìš©í•˜ì—¬ Suspense ì²˜ë¦¬í•˜ê¸°&lt;/h3&gt;

&lt;p&gt;React-Queryì˜ ë²„ì „ì´ ë‹¬ë¼ì§€ë©´ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DefaultOptions&lt;/code&gt; ì†ì„±ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;suspense&lt;/code&gt; ì†ì„±ì´ ì œê±°ë¨&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-04-React-Queryë¡œ_ì•ˆì •ì ì¸_ìŠ¤íŠ¸ë¦¬ë°ì„_ìœ„í•œ_ë¡œë”©_ë°_ì—ëŸ¬_ê´€ë¦¬í•˜ê¸°.md/2.png&quot; alt=&quot;2&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OmitKeyof&lt;/code&gt; ì†ì„±ì„ í†µí•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;suspense&lt;/code&gt;ê°€ ë¹ ì§„ ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆì—ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Suspense&lt;/code&gt;ë¥¼ ì§€ì›í•˜ëŠ” ìƒˆë¡œìš´ í›…ì´ ìˆì—ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;useSuspenseQuery&lt;/li&gt;
  &lt;li&gt;useSuspenseQueries&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ìœ„ì˜ suspenseQueryëŠ” ê¸°ì¡´ì˜ useQueryì˜ ê¸°ëŠ¥ì— Reactì˜ &lt;strong&gt;Suspenseë¥¼ ìë™ì ìœ¼ë¡œ ì§€ì›&lt;/strong&gt;í•´ì£¼ëŠ” í›…ì´ë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
export const useMainLive = () =&amp;gt; {
  return useSuspenseQuery&amp;lt;MainLive[], Error&amp;gt;({
    queryKey: [&apos;mainLive&apos;],
    queryFn: fetchMainLive,
    refetchOnWindowFocus: false,
  });
};

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;suspenseì™€-errorboundaryì˜-í†µí•©&quot;&gt;Suspenseì™€ ErrorBoundaryì˜ í†µí•©&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;ErrorBoundary ë„ì…&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ ê´€ì‹¬ì‚¬ë¥¼ &lt;strong&gt;ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ë¡œ(ErrorBoundary) ìœ„ì„&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;ì—ëŸ¬ì‹œ ë³´ì—¬ì•¼ ì¤˜ì•¼ í•  ì»´í¬ë„ŒíŠ¸ í• ë‹¹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Suspense&lt;/code&gt;ì™€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ErrorBoundary&lt;/code&gt;ë¥¼ &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AsyncBoundary&lt;/code&gt;&lt;/strong&gt;ë¼ëŠ” í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ &lt;strong&gt;í†µí•©&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;â†’ ë¹„ë™ê¸°Â &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Suspense&lt;/code&gt;Â ì»´í¬ë„ŒíŠ¸ì˜ ë¡œë”© ìƒíƒœì™€Â &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Error&lt;/code&gt;Â ìƒíƒœë¥¼ ë™ì‹œì— ì²˜ë¦¬í•˜ëŠ” ì»´í¬ë„ŒíŠ¸&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.slash.page/ko/libraries/react/async-boundary/src/withAsyncBoundary.i18n&quot;&gt;https://www.slash.page/ko/libraries/react/async-boundary/src/withAsyncBoundary.i18n&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
&amp;lt;AsyncBoundary
  pendingFallback={&amp;lt;RecommendLiveSkeleton /&amp;gt;}
  rejectedFallback={(error) =&amp;gt; &amp;lt;RecommendLiveError error={error} /&amp;gt;}
&amp;gt;
  &amp;lt;RecommendLive /&amp;gt;
&amp;lt;/AsyncBoundary&amp;gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;ì¸ìê°’
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pendingFallback&lt;/code&gt; : ì»´í¬ë„ŒíŠ¸ ë¡œë”© ì‹œì— ë³´ì—¬ì•¼í•  ì»´í¬ë„ŒíŠ¸&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rejectedFallback&lt;/code&gt; : ì—ëŸ¬ì‹œì— ë³´ì—¬ì•¼í•  ì»´í¬ë„ŒíŠ¸&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ì¥ì 
    &lt;ul&gt;
      &lt;li&gt;êµ¬í˜„ì˜ í¸ë¦¬í•¨&lt;/li&gt;
      &lt;li&gt;ì¶”í›„ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;error&lt;/code&gt;ê°€ ë°œìƒí•œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë…ë¦½ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;refetch&lt;/code&gt; ê°€ëŠ¥&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>[&quot;í™ì°½í˜„&quot;]</name></author><category term="[&quot;ê³¼ì •/ê·¼ê±°&quot;]" /><category term="[&quot;ê³¼ì •/ê·¼ê±°&quot;]" /><category term="ê³¼ì •/ê·¼ê±°" /><category term="react-query" /><summary type="html">ğŸš¨Â ë¬¸ì œ ì¸ì‹</summary></entry><entry><title type="html">[React-Query] useQueryì†ì„± : Suspense</title><link href="https://blog.liboo.kr/React-Query-_useQuery%EC%86%8D%EC%84%B1_-_Suspense" rel="alternate" type="text/html" title="[React-Query] useQueryì†ì„± : Suspense" /><published>2024-12-01T12:51:00+00:00</published><updated>2024-12-01T12:51:00+00:00</updated><id>https://blog.liboo.kr/%5BReact-Query%5D_useQuery%EC%86%8D%EC%84%B1_:_Suspense</id><content type="html" xml:base="https://blog.liboo.kr/React-Query-_useQuery%EC%86%8D%EC%84%B1_-_Suspense">&lt;h2 id=&quot;ë¬¸ì œ-ìƒí™©&quot;&gt;ğŸš¨Â ë¬¸ì œ ìƒí™©&lt;/h2&gt;

&lt;h3 id=&quot;usequeryì—ì„œ-suspenseë¥¼-ì‚¬ìš©í•´ì•¼-í•˜ëŠ”-ìƒí™©&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;useQuery&lt;/code&gt;ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Suspense&lt;/code&gt;ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ìƒí™©&lt;/h3&gt;

&lt;h2 id=&quot;ë¬¸ì œ-í•´ê²°&quot;&gt;âœ…Â ë¬¸ì œ í•´ê²°&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;ê¸°ì¡´ì˜ ì½”ë“œ&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
const defaultOptions: DefaultOptions = {
  queries: {
    retry: 3,
    refetchOnMount: true,
    refetchOnReconnect: true,
    refetchOnWindowFocus: true,
    suspense: true,
  }
};

export const queryClient = new QueryClient({
  defaultOptions
});

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;queriesì— suspenseê°’ì„ booleanìœ¼ë¡œ ì„¤ì •í•´ì£¼ë©´ ë˜ì—ˆë˜ ê³¼ê±°ì™€ ë‹¤ë¥´ê²Œ í˜„ì¬ëŠ” ì œê³µí•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OmitKeyof&lt;/code&gt;ë¥¼ í†µí•´ ë¹ ì ¸ë²„ë¦° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;suspense&lt;/code&gt;ì†ì„±&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-12-01-[React-Query]_useQueryì†ì„±_:_Suspense.md/0.png&quot; alt=&quot;0&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;ìƒˆë¡œ-ìƒê¸´-í›…-usesuspensequery-ëŠ”-suspenseë¥¼-ì œê³µí•¨&quot;&gt;ìƒˆë¡œ ìƒê¸´ í›… &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;useSuspenseQuery&lt;/code&gt;&lt;/strong&gt; ëŠ” suspenseë¥¼ ì œê³µí•¨&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;javascript
export const useMainLive = () =&amp;gt; {
  return useSuspenseQuery&amp;lt;MainLive[], Error&amp;gt;({
    queryKey: [&apos;mainLive&apos;],
    queryFn: fetchMainLive,
    refetchOnWindowFocus: false,
  });
};

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;gptë‚˜ ë¸”ë¡œê·¸ë¥¼ ì•„ë¬´ë¦¬ ì°¾ì•„ë„ ì•Œë ¤ì£¼ì§€ ì•Šì•˜ë˜ ì •ë³´ì˜€ë‹¤. ì•„ë§ˆ ìµœê·¼ì— ë°”ë€ ê²ƒ ê°™ë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;ê²°ë¡ &quot;&gt;ê²°ë¡ &lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;useSuspenseQuery&lt;/code&gt;&lt;/strong&gt; í›…ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤&lt;/p&gt;</content><author><name>[&quot;í™ì°½í˜„&quot;]</name></author><category term="[&quot;íŠ¸ëŸ¬ë¸”ìŠˆíŒ…&quot;]" /><category term="[&quot;íŠ¸ëŸ¬ë¸”ìŠˆíŒ…&quot;]" /><category term="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…" /><category term="react-query" /><summary type="html">ğŸš¨Â ë¬¸ì œ ìƒí™©</summary></entry><entry><title type="html">[React-Query] useQueryì†ì„± : onError</title><link href="https://blog.liboo.kr/React-Query-_useQuery%EC%86%8D%EC%84%B1_-_onError" rel="alternate" type="text/html" title="[React-Query] useQueryì†ì„± : onError" /><published>2024-12-01T04:08:00+00:00</published><updated>2024-12-01T04:08:00+00:00</updated><id>https://blog.liboo.kr/%5BReact-Query%5D_useQuery%EC%86%8D%EC%84%B1_:_onError</id><content type="html" xml:base="https://blog.liboo.kr/React-Query-_useQuery%EC%86%8D%EC%84%B1_-_onError">&lt;h2 id=&quot;ë¬¸ì œ-ìƒí™©&quot;&gt;ğŸš¨Â ë¬¸ì œ ìƒí™©&lt;/h2&gt;

&lt;h3 id=&quot;ì˜ëª»ëœ-idê°’ìœ¼ë¡œ-í˜ì´ì§€ë¥¼-ì ‘ê·¼í•˜ëŠ”-ê²½ìš°-ì±„íŒ…ì°½ì„-í¬í•¨í•œ-ëª¨ë“ -ì»´í¬ë„ŒíŠ¸ë¥¼-ê°€ë ¤ì•¼-í•˜ëŠ”-ìƒí™©&quot;&gt;ì˜ëª»ëœ Idê°’ìœ¼ë¡œ í˜ì´ì§€ë¥¼ ì ‘ê·¼í•˜ëŠ” ê²½ìš° ì±„íŒ…ì°½ì„ í¬í•¨í•œ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ê°€ë ¤ì•¼ í•˜ëŠ” ìƒí™©&lt;/h3&gt;

&lt;h2 id=&quot;í•´ê²°-ê³¼ì •&quot;&gt;ğŸƒÂ í•´ê²° ê³¼ì •&lt;/h2&gt;

&lt;p&gt;ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;useQuery&lt;/code&gt;ì—ì„œ Error í•¸ë“¤ë§ì„ í•˜ê¸°ë¡œ ê²°ì •&lt;/p&gt;

&lt;p&gt;ì¼ë‹¨, ErrorBoundaryë¥¼ í™œìš©í•˜ì—¬ Errorì‹œ ë³´ì—¬ì¤˜ì•¼í•  ì»´í¬ë„ŒíŠ¸ ì„ ì •&lt;/p&gt;

&lt;h3 id=&quot;1ì°¨-í•´ê²°-ê³¼ì •&quot;&gt;1ì°¨ í•´ê²° ê³¼ì •&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;onError&lt;/code&gt;ëŠ” ë”ì´ìƒ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ì†ì„±&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;throwOnError&lt;/code&gt;&lt;/strong&gt; ì‚¬ìš©&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
export const useClientLive = ({ liveId }: { liveId: string }) =&amp;gt; {
  return useQuery&amp;lt;ClientLiveResponse, Error&amp;gt;({
    queryKey: [&apos;clientLive&apos;],
    queryFn: () =&amp;gt; fetchLive({ liveId }),
    refetchOnWindowFocus: false,
    initialData: { info: {} as ClientLive },
    // onErrorëŠ” ë”ì´ìƒ ì œê³µí•˜ì§€ ì•ŠìŒ
    onError: (error: Error) =&amp;gt; {
      // ì—ëŸ¬ì½”ë“œ
    },
    throwOnError: true,
  });
};

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë‹¤ì‹œ ìƒê°í•´ë³´ë‹ˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClientView&lt;/code&gt;ì—ì„œ ì—ëŸ¬ì²˜ë¦¬ë¥¼ í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ClientPage&lt;/code&gt;ì— ì ‘ê·¼í•˜ìë§ˆì ì£¼ì†Œì°½ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id&lt;/code&gt;ë¥¼ ë³´ê³  ìœ íš¨í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;id&lt;/code&gt;ì¸ì§€ íŒë‹¨í•˜ëŠ” ê²ƒì´ ì˜³ì€ ê²ƒì„ì„ íŒë‹¨&lt;/p&gt;

&lt;p&gt;â†’ ê¸°ì¡´ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ErrorBoundary&lt;/code&gt;ë¥¼ ì‚­ì œí•˜ê³  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ErrorPage&lt;/code&gt;ë¡œ ë¼ìš°íŒ… í•˜ë„ë¡ ìˆ˜ì •&lt;/p&gt;

&lt;h3 id=&quot;2ì°¨-í•´ê²°-ê³¼ì •&quot;&gt;2ì°¨ í•´ê²° ê³¼ì •&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;liveId&lt;/code&gt; ê°’ì´ ì˜³ì§€ ì•Šì€ ê°’ì˜ ê²½ìš° ì—ëŸ¬&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://prod-files-secure.s3.us-west-2.amazonaws.com/ccf16174-2ad8-4e34-8ea6-9046cc60f199/605ffe33-fd6e-4ec4-9622-58401e9e6cab/20241201-1644-35.2177938.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;amp;X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&amp;amp;X-Amz-Credential=AKIAT73L2G45FSPPWI6X%2F20241231%2Fus-west-2%2Fs3%2Faws4_request&amp;amp;X-Amz-Date=20241231T091941Z&amp;amp;X-Amz-Expires=3600&amp;amp;X-Amz-Signature=16493c115feb00c94581261f7040dc0613b6d3dc206c08de6f1f6b734ef59c98&amp;amp;X-Amz-SignedHeaders=host&amp;amp;x-id=GetObject&quot;&gt;20241201-1644-35.2177938.mp4&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ì˜ìƒì—ëŠ” ê¸¸ê²Œ ë‹´ê¸°ì§€ ì•Šì•˜ì§€ë§Œ, ê²°ê³¼ë¥¼ ë°›ì•„ì˜¤ëŠ”ë° ê¹Œì§€ ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦¼&lt;/p&gt;

&lt;h3 id=&quot;queryê¸°ë³¸ê°’-ì„¤ì •ì´-retryê°€-3&quot;&gt;queryê¸°ë³¸ê°’ ì„¤ì •ì´ retryê°€ 3&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
const defaultOptions: DefaultOptions = {
  queries: {
    retry: 3,
    refetchOnMount: true,
    refetchOnReconnect: true,
    refetchOnWindowFocus: true
  }
};

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;retryê°’ì„ 0ìœ¼ë¡œ ìˆ˜ì •&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
export const useClientLive = ({ liveId }: { liveId: string }) =&amp;gt; {
  return useQuery&amp;lt;ClientLiveResponse, Error&amp;gt;({
    queryKey: [&apos;clientLive&apos;],
    queryFn: () =&amp;gt; fetchLive({ liveId }),
    refetchOnWindowFocus: false,
    initialData: { info: {} as ClientLive },
    throwonError: true,
    retry: 0,
  });
};

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ë¬¸ì œ-í•´ê²°&quot;&gt;âœ…Â ë¬¸ì œ í•´ê²°&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;ê³ ì°¨í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ClientPageë¥¼ ê°ì‹¸ê³  ìœ íš¨í•˜ì§€ ì•Šì€ idë¥¼ ê¸°ì… ì‹œì— errorPageë¡œ ì´ë™&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
function ClientPageComponent() {
  return (
    &amp;lt;&amp;gt;
      &amp;lt;Header /&amp;gt;
      &amp;lt;ClientContainer&amp;gt;
        &amp;lt;AsyncBoundary pendingFallback={&amp;lt;&amp;gt;&amp;lt;/&amp;gt;} rejectedFallback={() =&amp;gt; &amp;lt;PlayerStreamError /&amp;gt;}&amp;gt;
          &amp;lt;ClientView /&amp;gt;
          &amp;lt;ClientChatRoom /&amp;gt;
        &amp;lt;/AsyncBoundary&amp;gt;
      &amp;lt;/ClientContainer&amp;gt;
    &amp;lt;/&amp;gt;
  );
}

const ClientPage = withLiveExistCheck(ClientPageComponent);

export default ClientPage;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;typescript
export default function withLiveExistCheck&amp;lt;P extends object&amp;gt;(WrappedComponent: ComponentType&amp;lt;P&amp;gt;) {
  return function WithLiveExistCheckComponent(props: P) {
    const { id: liveId } = useParams();
    const navigate = useNavigate();

    const { data: isLiveExistData } = useCheckLiveExist({ liveId: liveId as string });
    const isLiveExist = isLiveExistData?.existed;

    useEffect(() =&amp;gt; {
      if (!isLiveExist) {
        navigate(&apos;/error&apos;);
      }
    }, [isLiveExistData]);

    return &amp;lt;WrappedComponent {...props} /&amp;gt;;
  };
}

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>[&quot;í™ì°½í˜„&quot;]</name></author><category term="[&quot;íŠ¸ëŸ¬ë¸”ìŠˆíŒ…&quot;]" /><category term="[&quot;íŠ¸ëŸ¬ë¸”ìŠˆíŒ…&quot;]" /><category term="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…" /><category term="react-query" /><summary type="html">ğŸš¨Â ë¬¸ì œ ìƒí™©</summary></entry><entry><title type="html">4.5.1 ë²„ì „ì—ì„œ ts, yarn.lock ì—ëŸ¬</title><link href="https://blog.liboo.kr/4.5.1_%EB%B2%84%EC%A0%84%EC%97%90%EC%84%9C_ts,_yarn.lock_%EC%97%90%EB%9F%AC" rel="alternate" type="text/html" title="4.5.1 ë²„ì „ì—ì„œ ts, yarn.lock ì—ëŸ¬" /><published>2024-11-28T11:56:00+00:00</published><updated>2024-11-28T11:56:00+00:00</updated><id>https://blog.liboo.kr/4.5.1_%EB%B2%84%EC%A0%84%EC%97%90%EC%84%9C_ts,_yarn.lock_%EC%97%90%EB%9F%AC</id><content type="html" xml:base="https://blog.liboo.kr/4.5.1_%EB%B2%84%EC%A0%84%EC%97%90%EC%84%9C_ts,_yarn.lock_%EC%97%90%EB%9F%AC">&lt;h2 id=&quot;ë¬¸ì œ-ìƒí™©&quot;&gt;ğŸš¨Â ë¬¸ì œ ìƒí™©&lt;/h2&gt;

&lt;p&gt;ë°±ì—”ë“œ ì‘ì—… ë‚´ìš©ê³¼ í”„ë¡ íŠ¸ ì‘ì—… ë‚´ìš©ì„ í•©ì¹˜ëŠ” ê³¼ì •ì—ì„œ yarn installë¡œ ì˜ì¡´ì„± íŒ¨í‚¤ì§€ë“¤ì„ ì„¤ì¹˜í•˜ë©´, @nestjsê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ë¬¸ì œë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-11-28-4.5.1_ë²„ì „ì—ì„œ_ts,_yarn.lock_ì—ëŸ¬.md/0.png&quot; alt=&quot;0&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;í•´ê²°-ê³¼ì •&quot;&gt;ğŸƒÂ í•´ê²° ê³¼ì •&lt;/h2&gt;

&lt;p&gt;yarn set version berryë¥¼ í†µí•´ ë ˆí¬ì§€í† ë¦¬ì˜ yarn ë²„ì „ì„ 4.5.1ì—ì„œ 4.5.3ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ë‹ˆê¹Œ ë²„ê·¸ê°€ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/upload/2024-11-28-4.5.1_ë²„ì „ì—ì„œ_ts,_yarn.lock_ì—ëŸ¬.md/1.png&quot; alt=&quot;1&quot; /&gt;&lt;em&gt;image.png&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&quot;ë¬¸ì œ-í•´ê²°&quot;&gt;âœ…Â ë¬¸ì œ í•´ê²°&lt;/h2&gt;

&lt;p&gt;ê·¸ëŸ°ë° ì•„ì§ê¹Œì§€ ì •í™•í•˜ê²Œ ì™œ 4.5.1 ë²„ì „ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ì§€ì™€ 4.5.3 ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í–ˆì„ ë•Œ ì˜¤ë¥˜ê°€ í•´ê²°ë˜ëŠ”ì§€ ì›ì¸ì„ ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì¶”í›„ì— yarnì— ëŒ€í•´ ë” í•™ìŠµí•´ë³´ë©´ì„œ ì›ì¸ì— ëŒ€í•´ í•™ìŠµí•´ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.&lt;/p&gt;</content><author><name>[&quot;ê¹€ì¤€ì„œ&quot;, &quot;hoeeeeeh&quot;]</name></author><category term="[&quot;íŠ¸ëŸ¬ë¸”ìŠˆíŒ…&quot;]" /><category term="[&quot;íŠ¸ëŸ¬ë¸”ìŠˆíŒ…&quot;]" /><category term="íŠ¸ëŸ¬ë¸”ìŠˆíŒ…" /><summary type="html">ğŸš¨Â ë¬¸ì œ ìƒí™©</summary></entry><entry><title type="html">ts-pattern</title><link href="https://blog.liboo.kr/ts-pattern" rel="alternate" type="text/html" title="ts-pattern" /><published>2024-11-27T04:16:00+00:00</published><updated>2024-11-27T04:16:00+00:00</updated><id>https://blog.liboo.kr/ts-pattern</id><content type="html" xml:base="https://blog.liboo.kr/ts-pattern">&lt;p&gt;&lt;a href=&quot;https://www.npmjs.com/package/ts-pattern/v/4.0.1&quot;&gt;https://www.npmjs.com/package/ts-pattern/v/4.0.1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.kimcoder.io/blog/ts-pattern&quot;&gt;https://www.kimcoder.io/blog/ts-pattern&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://toss.tech/article/ts-pattern-usage&quot;&gt;https://toss.tech/article/ts-pattern-usage&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;mermaid
stateDiagram-v2
    [*] --&amp;gt; Initialized: í”Œë ˆì´ì–´ ë§ˆìš´íŠ¸
    %% ê³µí†µ í”Œë ˆì´ì–´ ìƒíƒœ
    state &quot;ê³µí†µ í”Œë ˆì´ì–´ ìƒíƒœ&quot; as PlayerState {
        %% ì¬ìƒ ìƒíƒœ
        state &quot;ì¬ìƒ ìƒíƒœ&quot; as PlayState {
            Playing --&amp;gt; Paused: ì¼ì‹œì •ì§€
            Paused --&amp;gt; Playing: ì¬ìƒ
        }
        %% ë³¼ë¥¨ ìƒíƒœ
        state &quot;ë³¼ë¥¨ ìƒíƒœ&quot; as VolumeState {
            Unmuted --&amp;gt; Muted: ìŒì†Œê±°
            Muted --&amp;gt; Unmuted: ìŒì†Œê±° í•´ì œ
            
            %% ë³¼ë¥¨ ë ˆë²¨
            state &quot;ë³¼ë¥¨ ë ˆë²¨&quot; as VolumeLevel {
                [*] --&amp;gt; Normal
                Normal --&amp;gt; Low: ë³¼ë¥¨ ê°ì†Œ
                Low --&amp;gt; Normal: ë³¼ë¥¨ ì¦ê°€
                Normal --&amp;gt; High: ë³¼ë¥¨ ì¦ê°€
                High --&amp;gt; Normal: ë³¼ë¥¨ ê°ì†Œ
            }
        }
        %% í™”ë©´ ìƒíƒœ
        state &quot;í™”ë©´ ìƒíƒœ&quot; as ScreenState {
            Normal --&amp;gt; Fullscreen: ì „ì²´í™”ë©´
            Fullscreen --&amp;gt; Normal: ì „ì²´í™”ë©´ ì¢…ë£Œ
        }
        %% ë¼ì´ë¸Œ ìŠ¤íŠ¸ë¦¼ ìƒíƒœ
        state &quot;ë¼ì´ë¸Œ ìŠ¤íŠ¸ë¦¼ ìƒíƒœ&quot; as LiveState {
            Live --&amp;gt; DVR: ë’¤ë¡œ ì´ë™
            DVR --&amp;gt; Live: ì‹¤ì‹œê°„ìœ¼ë¡œ ì´ë™
        }
        %% ì§„í–‰ë°” ìƒíƒœ
        state &quot;ì§„í–‰ë°” ìƒíƒœ&quot; as Progress {
            %% ì‹œì²­ ì§„í–‰
            state &quot;ì‹œì²­ ì§„í–‰&quot; as TimeProgress {
                [*] --&amp;gt; Watching
                Watching --&amp;gt; Seeking: ì§„í–‰ë°” í´ë¦­/ë“œë˜ê·¸
                Seeking --&amp;gt; Watching: ì‹œê°„ ì´ë™ ì™„ë£Œ
            }
            
            %% ë²„í¼ë§
            state &quot;ë²„í¼ë§&quot; as BufferState {
                [*] --&amp;gt; Buffering
                Buffering --&amp;gt; Buffered: ë²„í¼ë§ ì™„ë£Œ
                Buffered --&amp;gt; Buffering: ì¶”ê°€ ë²„í¼ë§ í•„ìš”
            }
        }
    }
    %% ì»¨íŠ¸ë¡¤ UI ìƒíƒœ
    state &quot;ì»¨íŠ¸ë¡¤ UI ìƒíƒœ&quot; as ControlUI {
        Visible --&amp;gt; Hidden: ë§ˆìš°ìŠ¤ ë©ˆì¶¤ (3ì´ˆ)
        Hidden --&amp;gt; Visible: ë§ˆìš°ìŠ¤ ì›€ì§ì„
    }
    %% ì „ì—­ ìƒíƒœ ì—°ê²°
    Initialized --&amp;gt; PlayerState: ì´ˆê¸°í™” ì™„ë£Œ
    Initialized --&amp;gt; ControlUI: ì´ˆê¸° ì»¨íŠ¸ë¡¤ ìƒíƒœ ì„¤ì •
    %% ë…¸íŠ¸: í‚¤ë³´ë“œ ì»¨íŠ¸ë¡¤
    note right of PlayerState
        ìŠ¤í˜ì´ìŠ¤ë°”: ì¬ìƒ/ì¼ì‹œì •ì§€
        F: ì „ì²´í™”ë©´
        ì¢Œ/ìš° ë°©í–¥í‚¤: ì•/ë’¤ë¡œ ì´ë™
    end note

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>[&quot;Jisukim&quot;]</name></author><category term="[&quot;í•™ìŠµ&quot;]" /><category term="[&quot;í•™ìŠµ&quot;]" /><category term="í•™ìŠµ" /><summary type="html">https://www.npmjs.com/package/ts-pattern/v/4.0.1</summary></entry></feed>